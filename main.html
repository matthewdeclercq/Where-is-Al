<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Follow Al's Appalachian Trail adventure in real-time">
    <meta name="format-detection" content="telephone=no, address=no, email=no">
    <meta name="theme-color" content="#1e3a0f">
    <meta name="msapplication-TileColor" content="#1e3a0f">
    <meta name="color-scheme" content="light">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Where Is Al">
    <meta name="author" content="Where Is Al">
    <meta name="keywords" content="Appalachian Trail, hiking, trail tracker, thru-hike">
    <meta name="robots" content="index, follow">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Where Is Al - Appalachian Trail Tracker">
    <meta property="og:description" content="Follow Al's Appalachian Trail adventure in real-time">
    <meta property="og:image" content="assets/at-topo-map.jpg">
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Where Is Al - Appalachian Trail Tracker">
    <meta name="twitter:description" content="Follow Al's Appalachian Trail adventure in real-time">
    <meta name="twitter:image" content="assets/at-topo-map.jpg">
    <link rel="icon" type="image/png" href="assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
    <link rel="shortcut icon" href="assets/favicon.ico" />
    <link rel="apple-touch-icon" href="assets/favicon-96x96.png" />
    <title>Where Is Al - Appalachian Trail Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <header class="site-header">
        <h1>Where is Al?</h1>
    </header>

    <main>
        <p>Al is somewhere on the Appalachian Trail — follow his journey here!</p>
        <!-- Live Map Section -->
        <section class="map-section" aria-label="Live trail map">
            <h2 class="section-title">Live Trail Map</h2>
            <div class="map-container">
                <!-- Map will be initialized by js/map.js -->
                <!-- Set mapShareUrl in js/map.js to enable the Garmin MapShare map -->
            </div>
        </section>

        <!-- Weather Section -->
        <section class="weather-section" aria-label="Weather at Al's location">
            <h2 class="section-title">Weather at Al's Location</h2>
            <div class="weather-container">
                <div class="weather-card">
                    <div id="weather-current" class="weather-current">
                        <div class="weather-main">
                            <div class="weather-icon">
                                <i class="fas fa-cloud-sun"></i>
                            </div>
                            <div class="weather-temp-main">
                                <span class="weather-temp">—</span>
                                <div class="weather-condition">Loading weather...</div>
                            </div>
                        </div>
                        <div class="weather-details">
                            <div class="weather-detail-item">
                                <i class="fas fa-thermometer-half"></i>
                                <span class="weather-feels-like">—</span>
                            </div>
                            <div class="weather-detail-item">
                                <i class="fas fa-tint"></i>
                                <span class="weather-humidity">—</span>
                            </div>
                            <div class="weather-detail-item">
                                <i class="fas fa-wind"></i>
                                <span class="weather-wind">—</span>
                            </div>
                        </div>
                    </div>
                    <div id="weather-forecast" class="weather-forecast">
                        <canvas id="weather-chart"></canvas>
                    </div>
                    <div class="weather-placeholder" style="display: none;">
                        <p>Weather data will appear here once Al's location is available.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Dashboard Section -->
        <section class="stats-section" aria-label="Hike statistics">
            <h2 class="section-title">Trail Stats</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-route stat-icon"></i>
                    <h3 class="stat-label">Total Distance Completed (mi)</h3>
                    <p class="stat-value" id="total-miles">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-flag-checkered stat-icon"></i>
                    <h3 class="stat-label">Distance Remaining (mi)</h3>
                    <p class="stat-value" id="miles-remaining">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-walking stat-icon"></i>
                    <h3 class="stat-label">Daily Distance (Last 24 Hours) (mi)</h3>
                    <p class="stat-value" id="daily-distance">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tachometer-alt stat-icon"></i>
                    <h3 class="stat-label">Average Speed (mph)</h3>
                    <p class="stat-value" id="avg-speed">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-day stat-icon"></i>
                    <h3 class="stat-label">Current Day on Trail</h3>
                    <p class="stat-value" id="current-day">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-check stat-icon"></i>
                    <h3 class="stat-label">Estimated Finish Date</h3>
                    <p class="stat-value" id="est-finish">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar-alt stat-icon"></i>
                    <h3 class="stat-label">Start Date</h3>
                    <p class="stat-value" id="start-date">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-trophy stat-icon"></i>
                    <h3 class="stat-label">Longest Distance in a Day (mi)</h3>
                    <p class="stat-value" id="longest-day-miles">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-mountain stat-icon"></i>
                    <h3 class="stat-label">Most Elevation Gain in a Day (ft)</h3>
                    <p class="stat-value" id="most-elevation-gain-feet">—</p>
                    <p class="stat-placeholder">Stats coming soon once Al hits the trail!</p>
                </div>
            </div>
            <div class="elevation-profile-card stat-card">
                <div class="elevation-header">
                    <i class="fas fa-mountain stat-icon"></i>
                    <h3 class="stat-label">Elevation Profile</h3>
                    <div class="day-selector" id="elevation-day-selector">
                        <button class="day-nav-button" id="elevation-day-prev" aria-label="Previous day" disabled>
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <span class="day-display" id="elevation-day-display">—</span>
                        <button class="day-nav-button" id="elevation-day-next" aria-label="Next day" disabled>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="elevation-stats">
                    <div class="elevation-stat">
                        <i class="fas fa-mountain elevation-stat-icon"></i>
                        <span class="elevation-stat-label">High Point</span>
                        <span class="elevation-stat-value" id="elevation-max">—</span>
                        <span class="elevation-stat-unit">ft</span>
                    </div>
                    <div class="elevation-stat">
                        <i class="fas fa-mountain elevation-stat-icon elevation-stat-icon-flipped"></i>
                        <span class="elevation-stat-label">Low Point</span>
                        <span class="elevation-stat-value" id="elevation-min">—</span>
                        <span class="elevation-stat-unit">ft</span>
                    </div>
                    <div class="elevation-stat">
                        <i class="fas fa-arrow-trend-up elevation-stat-icon"></i>
                        <span class="elevation-stat-label">Gain</span>
                        <span class="elevation-stat-value" id="elevation-climbed">—</span>
                        <span class="elevation-stat-unit">ft</span>
                    </div>
                    <div class="elevation-stat">
                        <i class="fas fa-arrow-trend-down elevation-stat-icon"></i>
                        <span class="elevation-stat-label">Loss</span>
                        <span class="elevation-stat-value" id="elevation-loss">—</span>
                        <span class="elevation-stat-unit">ft</span>
                    </div>
                </div>
                <div class="elevation-chart-container">
                    <canvas id="elevation-chart"></canvas>
                </div>
                <p class="stat-placeholder elevation-placeholder">Loading elevation data...</p>
            </div>
        </section>

        <!-- Captain's Log Section -->
        <section class="log-section" aria-label="Captain's log dispatches">
            <h2 class="section-title">Captain's Log – Dispatches from the Trail</h2>
            <!-- Log entries will be added here in a grid/masonry layout -->
            <div class="log-grid" id="log-grid">
                <!-- Log entries will be dynamically added here -->
            </div>
        </section>

        <!-- About the Appalachian Trail Section -->
        <section class="about-section" aria-label="About the Appalachian Trail">
            <h2 class="section-title">About the Appalachian Trail</h2>
            <div class="about-content">
                <p>The Appalachian Trail (AT) is one of the longest continuously marked footpaths in the world, stretching approximately 2,190 miles through 14 states from Springer Mountain in Georgia to Mount Katahdin in Maine.</p>
                <p>Each year, thousands of hikers attempt to complete the entire trail, known as a "thru-hike." The journey typically takes 5-7 months and challenges hikers with diverse terrain, weather conditions, and the mental fortitude required for such an extended adventure.</p>
                <p>The trail winds through some of America's most beautiful landscapes, from the misty peaks of the Great Smoky Mountains to the rocky summits of New England's White Mountains. Along the way, hikers encounter cascading waterfalls, ancient forests, and wildlife ranging from curious bears to colorful songbirds.</p>
                <p>Follow along as Al tackles this incredible journey, sharing stories, challenges, and triumphs from the trail!</p>
                <figure class="about-image">
                    <img src="assets/watermelon_al.jpg" alt="Al enjoying his watermelon water on the Appalachian Trail" loading="lazy">
                    <figcaption>Al enjoying his watermelon water</figcaption>
                </figure>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>Following Al's Appalachian Trail adventure</p>
        <p>&copy; 2026 Copper Tech LLC. All rights reserved.</p>
        <p>Report any issues to <a href="mailto:matthew@coppertech.co">matthew@coppertech.co</a></p>
    </footer>

    <script src="js/utils.js"></script>
    <script src="js/config.js"></script>
    <script src="js/api-client.js"></script>
    <script src="js/date-utils.js"></script>
    <script src="js/chart-utils.js"></script>
    <!-- Auth check - must be first to protect the page -->
    <script>
        // Check authentication before loading page content
        (function() {
            'use strict';
            const token = sessionStorage.getItem('auth_token');
            const expires = sessionStorage.getItem('auth_expires');
            
            if (!token || !expires || Date.now() >= parseInt(expires)) {
                // Not authenticated or token expired, redirect to password page
                sessionStorage.removeItem('auth_token');
                sessionStorage.removeItem('auth_expires');
                window.location.href = 'index.html';
            }
        })();
    </script>
    <script src="js/log-loader.js"></script>
    <script src="js/map.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/weather.js"></script>
    <script src="js/elevation.js"></script>
</body>
</html>

